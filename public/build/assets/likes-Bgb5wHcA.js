import{p as l,A,C as $,D as z,b as d,d as R,e as W,h as a,W as f,F as L,i as Z,v as x,k as n,x as g,l as q,f as c,o as r,t as p,n as H,P as J}from"./app-BArZ-JoB.js";import{a as K,_ as O}from"./listaCanciones-BgB1a3n7.js";import{u as Q}from"./player-Czj22g4O.js";import{_ as X}from"./_plugin-vue_export-helper-DlAUqK2U.js";const Y={class:"lista-banner"},ee={key:0,viewBox:"0 0 100 100"},ae={key:1,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 100 100"},se={class:"lista-canciones-container"},oe={class:"lista-canciones-detalles"},te=["onClick"],ie={class:"col-md-1 num-cancion-lista"},le={class:"col-md-5 cancion-lista-nombre"},ne={class:"col-md-3 cancion-lista-reproducciones"},re={class:"col-md-2 duracion-cancion"},de={class:"cancion-lista-span"},ce=["onClick"],ue=["onClick"],pe={class:"row"},ve={class:"config-imagenes col-md-4"},me={class:"imagen-crear-lista"},fe=["src"],ge={class:"col-md-6"},be={class:"flex items-center gap-4 mb-4"},_e={class:"flex items-center gap-4 mb-8"},ye={class:"flex justify-end gap-2"},ke={__name:"likes",setup(Ce){const u=l(null),F=l(null),b=l(!1);l(!1),A().user;const t=Q(),B=q();l(B.params.id);const P=l(null),_=l(""),y=l(""),{cancionesFavoritas:we,cargarFavoritosCanciones:k,toggleLikeCancion:V,esFavoritaCancion:D,mostrarFavoritosCanciones:I,cancionesFavoritasMostrar:i}=K();l(!1);const S=async(o,e)=>{e.stopPropagation(),await V(o),await k()},C=$(()=>t.isPlaying),M=()=>{C.value&&t.currentPlaylist===i.value?t.togglePlay():(t.setPlaylist(i.value),(!t.currentSong||t.currentSong.id!==i.value[0].id)&&t.playSong(i.value[0],0))},E=o=>{if(!i.value||i.value.length===0){console.error("Error: La lista de canciones no está disponible.");return}const e=i.value.findIndex(v=>v.id===o.id);if(e===-1){console.error("Error: La canción no se encuentra en la lista.");return}t.setPlaylist(i.value),t.playSong(o,e,"album",o.album_id)},T=o=>{event.stopPropagation(),u.value=o};z(async()=>{await k(),await I()});function j(o){let e;return e=o==null?void 0:o.portada,new URL(e,import.meta.url).href}return(o,e)=>{const v=c("InputText"),w=c("FloatLabel"),G=c("Textarea"),h=c("Button"),N=c("Dialog");return r(),d(L,null,[u.value?(r(),R(O,{key:0,cancion:u.value,onClose:e[0]||(e[0]=s=>u.value=null)},null,8,["cancion"])):W("",!0),e[12]||(e[12]=a("div",{class:"showDialog"},null,-1)),a("div",Y,[e[8]||(e[8]=a("div",{class:"detalles-lista"},[a("div",{class:"lista-banner-img"},[a("img",{src:"/images/imgLikes.jpg",alt:"Fondo degradado con corazón blanco en el centro"})]),a("div",{class:"datos-detalles-lista"},[a("h1",null,"Mis Favoritos")])],-1)),a("div",{class:"lista-banner-play",onClick:M},[C.value?(r(),d("svg",ae,e[7]||(e[7]=[f(' Definición del degradado <defs data-v-57e6fb90><linearGradient id="gradiente" x1="0%" y1="0%" x2="100%" y2="0%" data-v-57e6fb90><stop offset="0%" stop-color="#F472B6" data-v-57e6fb90></stop><stop offset="100%" stop-color="#A855F7" data-v-57e6fb90></stop></linearGradient></defs> Círculo de fondo con degradado <circle cx="50" cy="50" r="45" fill="url(#gradiente)" stroke="none" data-v-57e6fb90></circle> Barras de pausa (dos rectángulos) <rect x="35" y="30" width="10" height="40" fill="white" rx="2" data-v-57e6fb90></rect><rect x="55" y="30" width="10" height="40" fill="white" rx="2" data-v-57e6fb90></rect>',7)]))):(r(),d("svg",ee,e[6]||(e[6]=[f('<defs data-v-57e6fb90><linearGradient id="gradiente" x1="0%" y1="0%" x2="100%" y2="0%" data-v-57e6fb90><stop offset="0%" stop-color="#F472B6" data-v-57e6fb90></stop><stop offset="100%" stop-color="#A855F7" data-v-57e6fb90></stop></linearGradient></defs><circle cx="50" cy="50" r="45" fill="url(#gradiente)" stroke="none" data-v-57e6fb90></circle><path d="M35 25 L35 75 L75 50 Z" fill="white" data-v-57e6fb90></path>',3)])))])]),a("div",se,[e[9]||(e[9]=f('<div class="row lista-canciones-categorias" data-v-57e6fb90><p class="col-md-1" data-v-57e6fb90>#</p><p class="col-md-5" data-v-57e6fb90>Título</p><p class="col-md-3" data-v-57e6fb90>Reproducciones</p><p class="col-md-2" data-v-57e6fb90>Duración</p></div>',1)),a("div",oe,[(r(!0),d(L,null,Z(x(i),(s,U)=>(r(),d("div",{class:"row cancion-lista",key:s.id,onClick:m=>E(s)},[a("div",null,[a("p",ie,p(U+1),1),a("p",le,p(s.nombre),1),a("p",ne,p(s.reproducciones),1),a("p",re,p(s.duracion),1),a("span",de,[a("i",{class:H(x(D)(s.id)?"pi pi-heart-fill":"pi pi-heart"),onClick:m=>S(s.id,m)},null,10,ce),a("i",{class:"pi pi-plus",onClick:m=>T(s)},null,8,ue)])])],8,te))),128))])]),n(N,{class:"crearLista-modal",visible:b.value,"onUpdate:visible":e[5]||(e[5]=s=>b.value=s),modal:"",header:"Editar lista",appendTo:".showDialog"},{default:g(()=>[a("form",{onSubmit:e[4]||(e[4]=J((...s)=>o.enviarFormulario&&o.enviarFormulario(...s),["prevent"]))},[a("div",pe,[a("div",ve,[a("div",me,[a("img",{src:F.value||j(P.value)||"/images/placeholder1.jpg",class:"estilo_imagen"},null,8,fe),a("input",{type:"file",onChange:e[1]||(e[1]=(...s)=>o.manejarImagenLista&&o.manejarImagenLista(...s)),accept:"image/*",ref:"archivoImagen",class:"añadir_archivo"},null,544)])]),a("div",ge,[a("div",be,[n(w,{variant:"on"},{default:g(()=>[n(v,{class:"crearLista-input",id:"username",modelValue:_.value,"onUpdate:modelValue":e[2]||(e[2]=s=>_.value=s)},null,8,["modelValue"]),e[10]||(e[10]=a("label",{for:"username"},"Nombre de la lista",-1))]),_:1})]),a("div",_e,[n(w,{variant:"on"},{default:g(()=>[n(G,{class:"crearLista-input",id:"config-descripcion",rows:"5",cols:"30",style:{resize:"none"},modelValue:y.value,"onUpdate:modelValue":e[3]||(e[3]=s=>y.value=s)},null,8,["modelValue"]),e[11]||(e[11]=a("label",{for:"descripcion"},"Descripción",-1))]),_:1})])])]),a("div",ye,[n(h,{type:"button",id:"cancelarButton",label:"Guardar",onClick:o.enviarFormulario},null,8,["onClick"]),n(h,{type:"button",id:"eliminarButton",label:"Eliminar Lista",severity:"danger",onClick:o.prepararEliminarLista},null,8,["onClick"])])],32)]),_:1},8,["visible"])],64)}}},Be=X(ke,[["__scopeId","data-v-57e6fb90"]]);export{Be as default};
