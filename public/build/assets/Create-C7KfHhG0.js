import{p as V,R as E,D as T,o,b as l,h as t,y as x,G as U,t as n,v as a,F as d,i as u,k as v,O as h,z as N,P as R,f as y}from"./app-BArZ-JoB.js";import{D as A}from"./DropZone-CW4zSXa_.js";import{u as G}from"./categories-DriGmbN6.js";import{u as O}from"./posts-CssQX8fK.js";import{d as L,u as Z,a as p,r as j,m as I}from"./rules-DZFuAMSf.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";const J={class:"row my-5"},K={class:"col-md-8"},Q={class:"card border-0 shadow-sm"},W={class:"card-body"},X={class:"mb-3"},Y={class:"text-danger mt-1"},$={class:"text-danger mt-1"},tt={class:"mb-3"},et={class:"text-danger mt-1"},st={class:"text-danger mt-1"},ot={class:"col-md-4"},lt={class:"card border-0 shadow-sm"},at={class:"card-body"},it={class:"mt-3 text-center"},nt=["disabled"],rt={class:""},dt={key:0},ut={key:1},ct={class:"mb-3"},mt={class:"text-danger mt-1"},vt={class:"text-danger mt-1"},ht={class:"mb-3"},pt={class:"text-danger mt-1"},yt={__name:"Create",setup(_t){L("required",j),L("min",I),V(!0);const M={title:"required|min:5",content:"required|min:50",categories:"required"},{validate:z,errors:c}=Z({validationSchema:M}),{value:C}=p("title",null,{initialValue:""}),{value:S}=p("content",null,{initialValue:""}),{value:q}=p("categories",null,{initialValue:"",label:"category"}),{categoryList:B,getCategoryList:H}=G(),{storePost:k,validationErrors:r,isLoading:m}=O(),i=E({title:C,content:S,categories:q,thumbnail:""});V("");function D(){z().then(_=>{_.valid&&k(i)})}return T(()=>{H()}),(_,e)=>{var g,b,w,f;const F=y("Editor"),P=y("MultiSelect");return o(),l("form",{onSubmit:R(D,["prevent"])},[t("div",J,[t("div",K,[t("div",Q,[t("div",W,[t("div",X,[e[4]||(e[4]=t("label",{for:"post-title",class:"form-label"}," Title ",-1)),x(t("input",{"onUpdate:modelValue":e[0]||(e[0]=s=>i.title=s),id:"post-title",type:"text",class:"form-control"},null,512),[[U,i.title]]),t("div",Y,n(a(c).title),1),t("div",$,[(o(!0),l(d,null,u((g=a(r))==null?void 0:g.title,s=>(o(),l("div",null,n(s),1))),256))])]),t("div",tt,[e[5]||(e[5]=t("label",{for:"post-content",class:"form-label"}," Content ",-1)),v(F,{modelValue:i.content,"onUpdate:modelValue":e[1]||(e[1]=s=>i.content=s),editorStyle:"height: 320px"},null,8,["modelValue"]),t("div",et,n(a(c).content),1),t("div",st,[(o(!0),l(d,null,u((b=a(r))==null?void 0:b.content,s=>(o(),l("div",null,n(s),1))),256))])])])])]),t("div",ot,[t("div",lt,[t("div",at,[e[7]||(e[7]=t("h6",null,[t("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",class:"bi bi-arrow-down-square",viewBox:"0 0 16 16"},[t("path",{"fill-rule":"evenodd",d:"M15 2a1 1 0 0 0-1-1H2a1 1 0 0 0-1 1v12a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1V2zM0 2a2 2 0 0 1 2-2h12a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2V2zm8.5 2.5a.5.5 0 0 0-1 0v5.793L5.354 8.146a.5.5 0 1 0-.708.708l3 3a.5.5 0 0 0 .708 0l3-3a.5.5 0 0 0-.708-.708L8.5 10.293V4.5z"})]),h(" Action ")],-1)),t("div",it,[t("button",{disabled:a(m),class:"btn btn-primary"},[x(t("div",rt,null,512),[[N,a(m)]]),a(m)?(o(),l("span",dt,"Processing...")):(o(),l("span",ut,"Publish"))],8,nt)]),e[8]||(e[8]=t("h6",{class:"mt-3"},[t("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",class:"bi bi-arrow-down-square",viewBox:"0 0 16 16"},[t("path",{"fill-rule":"evenodd",d:"M15 2a1 1 0 0 0-1-1H2a1 1 0 0 0-1 1v12a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1V2zM0 2a2 2 0 0 1 2-2h12a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2V2zm8.5 2.5a.5.5 0 0 0-1 0v5.793L5.354 8.146a.5.5 0 1 0-.708.708l3 3a.5.5 0 0 0 .708 0l3-3a.5.5 0 0 0-.708-.708L8.5 10.293V4.5z"})]),h(" Category ")],-1)),t("div",ct,[v(P,{modelValue:i.categories,"onUpdate:modelValue":e[2]||(e[2]=s=>i.categories=s),options:a(B),optionLabel:"name",optionValue:"id",filter:"",placeholder:"Select category",maxSelectedLabels:3,class:"w-full md:w-80"},null,8,["modelValue","options"]),t("div",mt,n(a(c).categories),1),t("div",vt,[(o(!0),l(d,null,u((w=a(r))==null?void 0:w.categories,s=>(o(),l("div",null,n(s),1))),256))])]),t("div",ht,[e[6]||(e[6]=t("h6",{class:"mt-3"},[t("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",class:"bi bi-arrow-down-square",viewBox:"0 0 16 16"},[t("path",{"fill-rule":"evenodd",d:"M15 2a1 1 0 0 0-1-1H2a1 1 0 0 0-1 1v12a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1V2zM0 2a2 2 0 0 1 2-2h12a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2V2zm8.5 2.5a.5.5 0 0 0-1 0v5.793L5.354 8.146a.5.5 0 1 0-.708.708l3 3a.5.5 0 0 0 .708 0l3-3a.5.5 0 0 0-.708-.708L8.5 10.293V4.5z"})]),h(" Thumbnail ")],-1)),v(A,{modelValue:i.thumbnail,"onUpdate:modelValue":e[3]||(e[3]=s=>i.thumbnail=s)},null,8,["modelValue"]),t("div",pt,[(o(!0),l(d,null,u((f=a(r))==null?void 0:f.thumbnail,s=>(o(),l("div",null,n(s),1))),256))])])])])])])],32)}}};export{yt as default};
