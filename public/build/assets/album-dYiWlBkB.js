import{p as v,D as Y,b as r,d as A,e as Z,h as a,v as s,t as n,x as j,n as L,W as _,F as P,i as q,l as H,f as J,o as l,O as K}from"./app-BArZ-JoB.js";import{u as Q,a as X,_ as aa}from"./listaCanciones-BgB1a3n7.js";import{u as ea}from"./usePlayer-BvTy7vg6.js";import{m as ta}from"./mostrarMusica-BSXilRiR.js";import{_ as oa}from"./_plugin-vue_export-helper-DlAUqK2U.js";import"./player-Czj22g4O.js";const sa={class:"album-banner"},ia={class:"detalles-album"},na={class:"album-banner-img"},la=["src"],ra={class:"datos-detalles-album"},ca={key:0,viewBox:"0 0 100 100"},da={key:1,viewBox:"0 0 100 100"},ua={class:"album-canciones-container"},pa={class:"album-canciones-detalles"},ma=["onClick"],va={class:"col-md-1 num-cancion-album"},_a={class:"col-md-6 cancion-album-nombre"},fa={class:"col-md-2 cancion-album-reproducciones"},ga={class:"col-md-2 duracion-cancion"},ba={class:"cancion-album-span"},ka=["onClick"],ya=["onClick"],ha={__name:"album",setup(Ca){const c=v(null),B=H(),f=v(B.params.id),{isPlaying:D,playPlaylist:G,playSong:N,togglePlay:wa}=ea(),{favoritos:xa,toggleLike:V,esFavorito:g}=Q(),{cancionesFavoritas:Fa,cargarFavoritosCanciones:b,toggleLikeCancion:$,esFavoritaCancion:I}=X(),{album:i,getAlbumData:M,canciones:u,getCancionesAlbum:R}=ta(f),p=v(!1),S=async(t,e)=>{e.stopPropagation(),await V(t),p.value=await g(t)},z=async(t,e)=>{e.stopPropagation(),await $(t),await b()},E=()=>{G(u.value,"album",i.value.id)},T=t=>{event.stopPropagation(),c.value=t},U=t=>{N(t,u.value,"album",i.value.id)};Y(async()=>{try{await M(),await R(),p.value=await g(f.value),await b()}catch(t){console.error("Error fetching data:",t)}});function O(t){return new URL(t==null?void 0:t.portada,import.meta.url).href}return(t,e)=>{var k,y,h,C,w,x,F;const W=J("router-link");return l(),r(P,null,[c.value?(l(),A(aa,{key:0,cancion:c.value,onClose:e[0]||(e[0]=o=>c.value=null)},null,8,["cancion"])):Z("",!0),a("div",sa,[a("div",ia,[a("div",na,[a("img",{src:O(s(i))},null,8,la)]),a("div",ra,[a("p",null,n((k=s(i))==null?void 0:k.tipo),1),a("h1",null,n((y=s(i))==null?void 0:y.nombre),1),a("span",null,[(l(),A(W,{class:"banner-artista-nombre",key:(h=s(i))==null?void 0:h.id_artista,to:{name:"artista.perfil",params:{id:(C=s(i))==null?void 0:C.id_artista}}},{default:j(()=>{var o;return[K(n((o=s(i))==null?void 0:o.artista),1)]}),_:1},8,["to"])),a("p",null,n(new Date((w=s(i))==null?void 0:w.created_at).getFullYear()),1),e[2]||(e[2]=a("p",null,"·",-1)),a("p",null,n((x=s(i))==null?void 0:x.num_canciones)+" canciones",1),e[3]||(e[3]=a("p",null,"·",-1)),a("p",null,n((F=s(i))==null?void 0:F.duracion_total),1)])]),a("i",{id:"favAlbum",class:L(p.value?"pi pi-heart-fill":"pi pi-heart"),style:{"font-size":"2.4rem",cursor:"pointer"},onClick:e[1]||(e[1]=o=>{var d;return S((d=s(i))==null?void 0:d.id,o)})},null,2)]),a("div",{class:"album-banner-play",onClick:E},[s(D)?(l(),r("svg",da,e[5]||(e[5]=[_('<defs data-v-a294ae7e><linearGradient id="gradiente" x1="0%" y1="0%" x2="100%" y2="0%" data-v-a294ae7e><stop offset="0%" stop-color="#F472B6" data-v-a294ae7e></stop><stop offset="100%" stop-color="#A855F7" data-v-a294ae7e></stop></linearGradient></defs><circle cx="50" cy="50" r="45" fill="url(#gradiente)" stroke="none" data-v-a294ae7e></circle><rect x="35" y="30" width="10" height="40" fill="white" rx="2" data-v-a294ae7e></rect><rect x="55" y="30" width="10" height="40" fill="white" rx="2" data-v-a294ae7e></rect>',4)]))):(l(),r("svg",ca,e[4]||(e[4]=[_('<defs data-v-a294ae7e><linearGradient id="gradiente" x1="0%" y1="0%" x2="100%" y2="0%" data-v-a294ae7e><stop offset="0%" stop-color="#F472B6" data-v-a294ae7e></stop><stop offset="100%" stop-color="#A855F7" data-v-a294ae7e></stop></linearGradient></defs><circle cx="50" cy="50" r="45" fill="url(#gradiente)" stroke="none" data-v-a294ae7e></circle><path d="M35 25 L35 75 L75 50 Z" fill="white" data-v-a294ae7e></path>',3)])))])]),a("div",ua,[e[6]||(e[6]=_('<div class="row album-canciones-categorias" data-v-a294ae7e><p class="col-md-1" data-v-a294ae7e>#</p><p class="col-md-6" data-v-a294ae7e>Título</p><p class="col-md-2" data-v-a294ae7e>Reproducciones</p><p class="col-md-2" data-v-a294ae7e>Duración</p></div>',1)),a("div",pa,[(l(!0),r(P,null,q(s(u),(o,d)=>(l(),r("div",{class:"row cancion-album",key:o.id,onClick:m=>U(o)},[a("p",va,n(d+1),1),a("p",_a,n(o.nombre),1),a("p",fa,n(o.reproducciones),1),a("p",ga,n(o.duracion),1),a("span",ba,[a("i",{class:L(s(I)(o.id)?"pi pi-heart-fill":"pi pi-heart"),onClick:m=>z(o.id,m),title:"Añadir la canción a favoritos"},null,10,ka),a("i",{class:"pi pi-plus",onClick:m=>T(o),title:"Añadir la canción a una lista"},null,8,ya)])],8,ma))),128))])])],64)}}},Na=oa(ha,[["__scopeId","data-v-a294ae7e"]]);export{Na as default};
